{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\predator\\\\Downloads\\\\clinic-appointment-system\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Paper, Typography, Table, TableBody, TableCell, TableContainer, TableRow, Button, Box, Chip } from '@mui/material';\nimport { format } from 'date-fns';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [appointments, setAppointments] = useState([]);\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem('user'));\n  useEffect(() => {\n    fetchAppointments();\n  }, []);\n  const fetchAppointments = async () => {\n    try {\n      const response = await fetch('/api/appointments', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const data = await response.json();\n      setAppointments(data);\n    } catch (error) {\n      console.error('Error fetching appointments:', error);\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'approved':\n        return 'success';\n      case 'pending':\n        return 'warning';\n      case 'rejected':\n        return 'error';\n      case 'cancelled':\n        return 'default';\n      default:\n        return 'default';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        children: [\"Welcome, \", user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => navigate('/booking'),\n        children: \"Book New Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: /*#__PURE__*/_jsxDEV(TableBody, {\n          children: appointments.map(appointment => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: format(new Date(appointment.appointmentTime), 'PPpp')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: appointment.treatment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: appointment.status,\n                color: getStatusColor(appointment.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: appointment.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 9\n            }, this), user.role === 'staff' && /*#__PURE__*/_jsxDEV(TableCell, {\n              children: appointment.patientName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: appointment.status === 'pending' && /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                color: \"error\",\n                size: \"small\",\n                onClick: () => {\n                  /* Add cancel logic */\n                },\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 9\n            }, this)]\n          }, appointment._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 3\n  }, this);\n}\n_s(Dashboard, \"jwSYxPc0lovypmgrzPC5XoKZTDw=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Table","TableBody","TableCell","TableContainer","TableRow","Button","Box","Chip","format","useNavigate","jsxDEV","_jsxDEV","Dashboard","_s","appointments","setAppointments","navigate","user","JSON","parse","localStorage","getItem","fetchAppointments","response","fetch","headers","Authorization","data","json","error","console","getStatusColor","status","maxWidth","sx","mt","children","display","justifyContent","mb","variant","component","name","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","map","appointment","Date","appointmentTime","treatment","label","notes","role","patientName","size","_id","_c","$RefreshReg$"],"sources":["C:/Users/predator/Downloads/clinic-appointment-system/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tContainer,\r\n\tPaper,\r\n\tTypography,\r\n\tTable,\r\n\tTableBody,\r\n\tTableCell,\r\n\tTableContainer,\r\n\tTableRow,\r\n\tButton,\r\n\tBox,\r\n\tChip,\r\n} from '@mui/material';\r\nimport { format } from 'date-fns';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Dashboard() {\r\n\tconst [appointments, setAppointments] = useState([]);\r\n\tconst navigate = useNavigate();\r\n\tconst user = JSON.parse(localStorage.getItem('user'));\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchAppointments();\r\n\t}, []);\r\n\r\n\tconst fetchAppointments = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch('/api/appointments', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tconst data = await response.json();\r\n\t\t\tsetAppointments(data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error fetching appointments:', error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst getStatusColor = (status) => {\r\n\t\tswitch (status) {\r\n\t\t\tcase 'approved':\r\n\t\t\t\treturn 'success';\r\n\t\t\tcase 'pending':\r\n\t\t\t\treturn 'warning';\r\n\t\t\tcase 'rejected':\r\n\t\t\t\treturn 'error';\r\n\t\t\tcase 'cancelled':\r\n\t\t\t\treturn 'default';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'default';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container maxWidth=\"lg\" sx={{ mt: 4 }}>\r\n\t\t\t<Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 4 }}>\r\n\t\t\t\t<Typography variant=\"h4\" component=\"h1\">\r\n\t\t\t\t\tWelcome, {user.name}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={() => navigate('/booking')}\r\n\t\t\t\t>\r\n\t\t\t\t\tBook New Appointment\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t<Table>\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{appointments.map((appointment) => (\r\n\t\t\t\t\t\t\t<TableRow key={appointment._id}>\r\n\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t{format(new Date(appointment.appointmentTime), 'PPpp')}\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>{appointment.treatment}</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tlabel={appointment.status}\r\n\t\t\t\t\t\t\t\t\t\tcolor={getStatusColor(appointment.status)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell>{appointment.notes}</TableCell>\r\n\t\t\t\t\t\t\t\t{user.role === 'staff' && (\r\n\t\t\t\t\t\t\t\t\t<TableCell>{appointment.patientName}</TableCell>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t{appointment.status === 'pending' && (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* Add cancel logic */\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}